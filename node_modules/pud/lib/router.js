'use strict';

/**
 * Check request method.
 */

function matches(ctx, name) {
  if (ctx.method === name) return true;
  return false;
}

/**
 * Return simple route middleware
 */

module.exports = function(name, fn) {
  function ret(ctx, next) {
    if (!matches(ctx, name)) return next();
    return Promise.resolve(fn(ctx, next));
  }

  Object.defineProperty(ret, 'name', { value: name }); // define ret.name for debug
  return ret;
};
